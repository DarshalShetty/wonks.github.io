<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>A Nanopass Framework Tutorial</title>
  <meta name="description" content="Abstract">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://wonks.github.io/keep/fall2012/2012/11/02/a-nanopass-framework.html">
  <link rel="alternate" type="application/rss+xml" title="PL Wonks" href="http://wonks.github.io/feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">PL Wonks</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page=link" href="/spring2015/">Talks This Semester</a> |

        <a class="page=link" href="/organizational/spring2015/2015/01/22/organizational-meeting.html">Semester Schedule</a> | 
       
        <a class="page=link" href="/talks.html">Archives</a>  
          (<a href="/archives.html">By Category</a>)
        <!-- 
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/adams/index.html">Category archive for adams</a>
          
        
          
          <a class="page-link" href="/fall2010/index.html">Category archive for fall2010</a>
          
        
          
          <a class="page-link" href="/cottam/index.html">Category archive for cottam</a>
          
        
          
          <a class="page-link" href="/mahajan/index.html">Category archive for mahajan</a>
          
        
          
          <a class="page-link" href="/kuper/index.html">Category archive for kuper</a>
          
        
          
          <a class="page-link" href="/ahmed/index.html">Category archive for ahmed</a>
          
        
          
          <a class="page-link" href="/holk/index.html">Category archive for holk</a>
          
        
          
          <a class="page-link" href="/kulkarni/index.html">Category archive for kulkarni</a>
          
        
          
          <a class="page-link" href="/barker/index.html">Category archive for barker</a>
          
        
          
          <a class="page-link" href="/keep/index.html">Category archive for keep</a>
          
        
          
          <a class="page-link" href="/james/index.html">Category archive for james</a>
          
        
          
          <a class="page-link" href="/name/index.html">Category archive for name</a>
          
        
          
          <a class="page-link" href="/friedman/index.html">Category archive for friedman</a>
          
        
          
          <a class="page-link" href="/spring2011/index.html">Category archive for spring2011</a>
          
        
          
          <a class="page-link" href="/mckelvey/index.html">Category archive for mckelvey</a>
          
        
          
          <a class="page-link" href="/chauhan/index.html">Category archive for chauhan</a>
          
        
          
          <a class="page-link" href="/perconti/index.html">Category archive for perconti</a>
          
        
          
          <a class="page-link" href="/johnson/index.html">Category archive for johnson</a>
          
        
          
          <a class="page-link" href="/voufo/index.html">Category archive for voufo</a>
          
        
          
          <a class="page-link" href="/hansen/index.html">Category archive for hansen</a>
          
        
          
          <a class="page-link" href="/byrd/index.html">Category archive for byrd</a>
          
        
          
          <a class="page-link" href="/fall2011/index.html">Category archive for fall2011</a>
          
        
          
          <a class="page-link" href="/newton/index.html">Category archive for newton</a>
          
        
          
          <a class="page-link" href="/foltzer/index.html">Category archive for foltzer</a>
          
        
          
          <a class="page-link" href="/alvis/index.html">Category archive for alvis</a>
          
        
          
          <a class="page-link" href="/hsu/index.html">Category archive for hsu</a>
          
        
          
          <a class="page-link" href="/dybvig/index.html">Category archive for dybvig</a>
          
        
          
          <a class="page-link" href="/wang/index.html">Category archive for wang</a>
          
        
          
          <a class="page-link" href="/sparks/index.html">Category archive for sparks</a>
          
        
          
          <a class="page-link" href="/bowman/index.html">Category archive for bowman</a>
          
        
          
          <a class="page-link" href="/obt/index.html">Category archive for obt</a>
          
        
          
          <a class="page-link" href="/spring2012/index.html">Category archive for spring2012</a>
          
        
          
          <a class="page-link" href="/sabry/index.html">Category archive for sabry</a>
          
        
          
          <a class="page-link" href="/martens/index.html">Category archive for martens</a>
          
        
          
          <a class="page-link" href="/thornton/index.html">Category archive for thornton</a>
          
        
          
          <a class="page-link" href="/swords/index.html">Category archive for swords</a>
          
        
          
          <a class="page-link" href="/blocher/index.html">Category archive for blocher</a>
          
        
          
          <a class="page-link" href="/frisz/index.html">Category archive for frisz</a>
          
        
          
          <a class="page-link" href="/owens/index.html">Category archive for owens</a>
          
        
          
          <a class="page-link" href="/fall2012/index.html">Category archive for fall2012</a>
          
        
          
          <a class="page-link" href="/willcock/index.html">Category archive for willcock</a>
          
        
          
          <a class="page-link" href="/amsden/index.html">Category archive for amsden</a>
          
        
          
          <a class="page-link" href="/todd/index.html">Category archive for todd</a>
          
        
          
          <a class="page-link" href="/apl/index.html">Category archive for apl</a>
          
        
          
          <a class="page-link" href="/sigronak/index.html">Category archive for sigronak</a>
          
        
          
          <a class="page-link" href="/spring2013/index.html">Category archive for spring2013</a>
          
        
          
          <a class="page-link" href="/shan/index.html">Category archive for shan</a>
          
        
          
          <a class="page-link" href="/hassan/index.html">Category archive for hassan</a>
          
        
          
          <a class="page-link" href="/hemann/index.html">Category archive for hemann</a>
          
        
          
          <a class="page-link" href="/gaboardi/index.html">Category archive for gaboardi</a>
          
        
          
          <a class="page-link" href="/zakian/index.html">Category archive for zakian</a>
          
        
          
          <a class="page-link" href="/jagannathan/index.html">Category archive for jagannathan</a>
          
        
          
          <a class="page-link" href="/lvars/index.html">Category archive for lvars</a>
          
        
          
          <a class="page-link" href="/spring2014/index.html">Category archive for spring2014</a>
          
        
          
          <a class="page-link" href="/hott/index.html">Category archive for hott</a>
          
        
          
          <a class="page-link" href="/siek/index.html">Category archive for siek</a>
          
        
          
          <a class="page-link" href="/gradualtyping/index.html">Category archive for gradualtyping</a>
          
        
          
          <a class="page-link" href="/wailes/index.html">Category archive for wailes</a>
          
        
          
          <a class="page-link" href="/vitousek/index.html">Category archive for vitousek</a>
          
        
          
          <a class="page-link" href="/loos/index.html">Category archive for loos</a>
          
        
          
          <a class="page-link" href="/zinkov/index.html">Category archive for zinkov</a>
          
        
          
          <a class="page-link" href="/eastlund/index.html">Category archive for eastlund</a>
          
        
          
          <a class="page-link" href="/securirty/index.html">Category archive for securirty</a>
          
        
          
          <a class="page-link" href="/fall2014/index.html">Category archive for fall2014</a>
          
        
          
          <a class="page-link" href="/bonnaire-sergeant/index.html">Category archive for bonnaire-sergeant</a>
          
        
          
          <a class="page-link" href="/clojure/index.html">Category archive for clojure</a>
          
        
          
          <a class="page-link" href="/cimini/index.html">Category archive for cimini</a>
          
        
          
          <a class="page-link" href="/kuhlenschmidt/index.html">Category archive for kuhlenschmidt</a>
          
        
          
          <a class="page-link" href="/bauman/index.html">Category archive for bauman</a>
          
        
          
          <a class="page-link" href="/naldurg/index.html">Category archive for naldurg</a>
          
        
          
          <a class="page-link" href="/kent/index.html">Category archive for kent</a>
          
        
          
          <a class="page-link" href="/narayanan/index.html">Category archive for narayanan</a>
          
        
          
          <a class="page-link" href="/contracts/index.html">Category archive for contracts</a>
          
        
          
          <a class="page-link" href="/vanhorn/index.html">Category archive for vanhorn</a>
          
        
          
          <a class="page-link" href="/spring2015/index.html">Category archive for spring2015</a>
          
        
          
          <a class="page-link" href="/organizational/index.html">Category archive for organizational</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
         -->
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">A Nanopass Framework Tutorial</h1>
    <h3>Andrew Keep</h3>

    <p class="post-meta">Nov 2, 2012</p>
  </header>

  <article class="post-content">
    <h2 id="abstract">Abstract</h2>

<p>The nanopass framework is an embedded-DSL for writing compilers in Scheme.  The
idea for the nanopass framework grew out of development of the micropass
compiler, used in the compiler course originated by Dan Friedman and refined by
Kent Dybvig and Oscar Waddell.  The micropass compiler uses S-expressions for
intermediate representation, along with a match form to pattern match input
S-expression language forms and construct output S-expression language forms
from quasiquoted templates.  Writing a compiler in the micropass style makes it
easier to understand the task each pass of the compiler performs.  Using
S-expressions as the intermediate representation has a few downsides.  First,
efficiency can be a problem due to pattern-matching overhead and the need to
rebuild large S-expressions.  Second, passes often contain boilerplate code to
recur through otherwise unchanging language forms.  Third, the S-expression
representation lacks formal structure, and it is possible to create ill-formed
output that might not be caught until several passes later in the compiler.  The
nanopass framework addresses these concerns by providing two main forms
define-language and define-pass.  The define-language form formally specifies
the grammar of an intermediate language.  The define-pass form defines a pass
that operates on one language and produces output in another, possibly
different, language.  The output language forms are constructed in a way that
ensures they match the output language specified by the pass.</p>

<p>The nanopass framework has seen a few iterations.  An initial prototype was
developed by Jordan Johnson.  The paper &quot;A Nanopass Infrastructure for Compiler
Education&quot; by Dipanwita Sarkar, Oscar Waddell, and R. Kent Dybvig (and
subsequently Dr. Sarkar&#39;s dissertation) describe a second prototype of nanopass
framework, and its use for educational compiler development.</p>

<p>This tutorial will discuss a new version of the nanopass framework, intended for
the development of commercial compilers.  A nanopass version of the class
compiler will provide examples of how to use the framework, and demonstrate some
of the new features.</p>

  </article>

  <b>Categories:</b>    
  
    <a href="/keep/">keep</a>
  
    <a href="/fall2012/">fall2012</a>
  
</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">PL Wonks</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>PL Wonks</li>
          <li><a href="mailto:cswords@umail.iu.com">cswords@umail.iu.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">A collection of programming language enthusiasts from Indiana University.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
